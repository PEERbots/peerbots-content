"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{1132:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(5666),a=n.n(r),s=n(5893),i=n(5321),c=n(7294),d=n(1664),l=n(2182),o=n(234),u=n(4603);function x(e){var t=e.content,n=e.author,r=e.reviews,a=e.tags;return(0,s.jsx)("div",{className:"bg-white shadow-lg rounded px-4 pt-4 pb-2 col-span-1 w-full",children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(d.default,{href:"/content/[contentId]",as:"/content/".concat(t.id),children:(0,s.jsx)("span",{className:"text-gray-900 text-xl text-ellipsis cursor-pointer",onClick:function(){u.Z.getInstance().logEvent("Clicked Link: Content Card - Name",{"Content ID":t.id,"Content Name":t.name,"Content Author":n.data.name,"Author ID":n.id})},children:t.name})}),(0,s.jsx)(o.Z,{content:t})]}),n?(0,s.jsxs)("div",{className:"text-gray-800",children:[(0,s.jsx)(d.default,{href:"/[userName]",as:"/".concat(n.id),children:(0,s.jsx)("span",{onClick:function(){u.Z.getInstance().logEvent("Clicked Link: Content Card - Author",{"Content ID":t.id,"Content Name":t.name,"Content Author":n.data.name,"Author ID":n.id,"Click Source":"Profile Photo"})},children:n.data.photoUrl?(0,s.jsx)("img",{src:n.data.photoUrl,className:"h-8 inline-block rounded-full cursor-pointer"}):(0,s.jsx)("img",{src:"profile_pic.png",className:"h-8 inline-block rounded-full cursor-pointer"})})}),(0,s.jsx)(d.default,{href:"/[userName]",as:"/".concat(n.id),children:(0,s.jsx)("span",{className:"ml-1 text-xs cursor-pointer",onClick:function(){u.Z.getInstance().logEvent("Clicked Link: Content Card - Author",{"Content ID":t.id,"Content Name":t.name,"Content Author":n.data.name,"Author ID":n.id,"Click Source":"Author Name"})},children:n.data.name})})]}):(0,s.jsx)("div",{})]}),(0,s.jsx)("div",{className:"flex justify-between mb-1",children:(0,s.jsx)("div",{className:"text-sm text-gray-600 flex items-center"})}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{className:"text-gray-700 line-clamp-2",children:t.description}),(0,s.jsx)("p",{className:"font-bold text-dark-primary cursor-pointer",children:(0,s.jsx)(d.default,{href:"/content/[contentId]",as:"/content/".concat(t.id),children:(0,s.jsx)("a",{children:"Read more..."})})})]}),(0,s.jsx)("div",{children:a&&a.map((function(e){return(0,s.jsx)(d.default,{href:"/tag/[tagId]",as:"/tag/".concat(e.id),children:(0,s.jsx)("span",{style:{background:e.data.color,color:e.data.textColor},className:"rounded-3xl px-2 mx-1 text-xs cursor-pointer",children:e.data.name},e.id)},e.id)}))}),t.copyOf?(0,s.jsxs)("div",{className:"text-center my-4 text-xs",children:["This is a copy."," ",(0,s.jsx)(d.default,{href:"/content/[contentId]",as:"/content/".concat(t.copyOf.id),children:(0,s.jsx)("a",{className:"underline decoration-primary text-primary hover:text-dark-primary hover:decoration-dark-primary font-bold",children:"View original."})})]}):(0,s.jsxs)("div",{className:"flex items-center justify-between my-4 w-full",children:[(0,s.jsx)("div",{className:"text-gray-900 text-sm leading-none",children:0==t.price?(0,s.jsx)("span",{className:"uppercase text-green-700 font-bold ",children:"Free"}):(0,s.jsx)("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.price)})}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)(l.Z,{reviews:r})}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)(d.default,{href:"/content/[contentId]",as:"/content/".concat(t.id),children:(0,s.jsx)("button",{className:"btn-primary flex items-center m-0",children:(0,s.jsx)("span",{className:"text-xl",children:"+"})})})})]})]})})}var h=n(4467);function m(e,t,n,r,a,s,i){try{var c=e[s](i),d=c.value}catch(l){return void n(l)}c.done?t(d):Promise.resolve(d).then(r,a)}function f(e){var t=e.content,n=e.children,r=(0,c.useState)([]),d=r[0],l=r[1],o=(0,c.useState)([]),u=o[0],f=o[1],p=(0,c.useState)([]),C=p[0],j=p[1];t.forEach((function(e){e.data.id=e.id}));var v,g=(0,i.ad)(h.Z),N=(v=a().mark((function e(){var n,r,s,c,d,o,u,x,h,m,p,C;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=23;break}return n=t.map((function(e){return e.data.owner.id})),r=(0,i.IO)((0,i.hJ)(g,"users"),(0,i.ar)((0,i.Jm)(),"in",n)),e.next=5,(0,i.PL)(r);case 5:if(s=e.sent,c=s.docs.map((function(e){return{id:e.id,data:e.data()}})),l(c),!((d=t.map((function(e){return e.data.tags.flat().map((function(e){return e.id}))})).flat()).length>0)){e.next=16;break}return o=(0,i.IO)((0,i.hJ)(g,"tags"),(0,i.ar)((0,i.Jm)(),"in",d)),e.next=13,(0,i.PL)(o);case 13:u=e.sent,x=u.docs.map((function(e){return{id:e.id,data:e.data()}})),j(x);case 16:return h=t.map((function(e){return(0,i.JU)((0,i.hJ)(g,"content"),e.id)})),m=(0,i.IO)((0,i.hJ)(g,"reviews"),(0,i.ar)("content","in",h)),e.next=20,(0,i.PL)(m);case 20:p=e.sent,C=p.docs.map((function(e){var t=e.data();return{content:t.content.id,data:t}})),f(C);case 23:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var a=v.apply(e,t);function s(e){m(a,n,r,s,i,"next",e)}function i(e){m(a,n,r,s,i,"throw",e)}s(void 0)}))});return(0,c.useEffect)((function(){N()}),[t]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"bg-white shadow-md my-4 mx-2 p-8 rounded block",children:[n&&(0,s.jsx)("div",{className:"mb-6",children:n}),(0,s.jsx)("div",{className:"w-full grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8",children:t&&d&&t.map((function(e){return(0,s.jsx)(x,{content:e.data,author:d.filter((function(t){return t.id==e.data.owner.id}))[0],reviews:u.filter((function(t){return t.content==e.id})),tags:C.filter((function(t){return e.data.tags.map((function(e){return e.id})).includes(t.id)}))},e.id)}))})]})})}},2182:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(5893),a=n(7092);function s(e){var t=e.reviews;return(0,r.jsx)(r.Fragment,{children:t&&t.length>0?(0,r.jsxs)("span",{children:[(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(a.Z,{value:+parseFloat(t.reduce((function(e,t){return e+t.data.rating}),0)/t.length).toFixed(2),size:"small",readOnly:!0})}),(0,r.jsxs)("div",{className:"text-xs text-center",children:["(",t.length," reviews)"]})]}):(0,r.jsx)("span",{className:"text-xs text-center",children:"No reviews yet"})})}},234:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(5893);function a(e){var t=e.content;return(0,r.jsx)(r.Fragment,{children:t.trusted&&(0,r.jsxs)("svg",{className:"h-5 w-5 mx-2",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_3_129)",children:[(0,r.jsx)("path",{d:"M13.2592 14.488C13.2592 15.3856 13.0192 15.5872 12.2768 15.3792C11.5104 15.1648 10.8272 14.7616 10.1456 14.3616C9.46401 13.9616 8.81602 13.5359 8.17281 13.0912C8.12567 13.0485 8.06437 13.0248 8.00078 13.0248C7.93719 13.0248 7.87589 13.0484 7.82881 13.0912C6.80876 13.8157 5.74374 14.4746 4.64001 15.064C4.2822 15.2637 3.89585 15.4072 3.49438 15.4895C3.16157 15.5455 3.00001 15.4319 2.93755 15.0976C2.83677 14.544 2.95193 14.0047 3.04953 13.4672H3.04959C3.25011 12.4197 3.51735 11.3862 3.84959 10.3728C3.89037 10.2898 3.89641 10.1941 3.86641 10.1067C3.83636 10.0193 3.77276 9.94749 3.68958 9.90713C2.64161 9.15995 1.59998 8.40473 0.68958 7.48153C0.456767 7.25851 0.258847 7.0018 0.102393 6.71992C-0.0880201 6.35189 -0.0176067 6.11831 0.348793 5.91992C0.772754 5.71981 1.22786 5.59372 1.69439 5.54711C2.8759 5.38883 4.06719 5.31508 5.2592 5.32632C5.32414 5.33825 5.39117 5.32294 5.4445 5.28387C5.49778 5.24481 5.53263 5.18549 5.54075 5.11991C5.86075 3.94871 6.18075 2.78071 6.74878 1.69751C6.91758 1.33235 7.15935 1.00569 7.45919 0.737515C7.85441 0.417515 8.22081 0.428715 8.59679 0.777515C9.00319 1.15511 9.24961 1.6383 9.47518 2.12951C9.90127 3.09197 10.2402 4.09058 10.488 5.11351C10.4946 5.18404 10.5302 5.24862 10.5864 5.29174C10.6426 5.33487 10.7141 5.35263 10.784 5.3407C12.064 5.36471 13.344 5.39507 14.608 5.5983C14.9413 5.64278 15.2683 5.72601 15.5824 5.84633C16.0336 6.03195 16.104 6.24794 15.856 6.66393C15.6971 6.91647 15.5096 7.15002 15.2976 7.35991C14.3856 8.3071 13.3408 9.09911 12.3024 9.89591C12.2483 9.92669 12.2078 9.97674 12.1891 10.0361C12.1704 10.0955 12.1749 10.1597 12.2016 10.2159C12.5935 11.3322 12.9105 12.4734 13.1504 13.6319C13.2074 13.9143 13.2437 14.2003 13.2592 14.4879L13.2592 14.488Z",fill:"#46D9D9"}),(0,r.jsx)("path",{d:"M7.57728 5.336H8.44928L10.8893 11H9.73728L9.20928 9.704H6.75328L6.24128 11H5.11328L7.57728 5.336ZM8.85728 8.84L7.98528 6.536L7.09728 8.84H8.85728Z",fill:"white"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_3_129",children:(0,r.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]})})}}}]);